webpackHotUpdate(0,{

/***/ 697:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(17);\n\nvar _propTypes = __webpack_require__(5);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _newLikeThunk = __webpack_require__(346);\n\nvar _newLikeThunk2 = _interopRequireDefault(_newLikeThunk);\n\nvar _newCommentThunk = __webpack_require__(723);\n\nvar _newCommentThunk2 = _interopRequireDefault(_newCommentThunk);\n\nvar _newCommentLikeThunk = __webpack_require__(722);\n\nvar _newCommentLikeThunk2 = _interopRequireDefault(_newCommentLikeThunk);\n\nvar _joinConversationThunk = __webpack_require__(721);\n\nvar _joinConversationThunk2 = _interopRequireDefault(_joinConversationThunk);\n\nvar _Post_Comment = __webpack_require__(695);\n\nvar _Post_Comment2 = _interopRequireDefault(_Post_Comment);\n\n__webpack_require__(135);\n\nvar _semanticUiReact = __webpack_require__(24);\n\nvar _firebase = __webpack_require__(76);\n\nvar _firebase2 = _interopRequireDefault(_firebase);\n\nvar _v = __webpack_require__(136);\n\nvar _v2 = _interopRequireDefault(_v);\n\nvar _underscore = __webpack_require__(330);\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nvar _jquery = __webpack_require__(1373);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _Nested_Post_Modal = __webpack_require__(694);\n\nvar _Nested_Post_Modal2 = _interopRequireDefault(_Nested_Post_Modal);\n\nvar _reactInfiniteScroller = __webpack_require__(299);\n\nvar _reactInfiniteScroller2 = _interopRequireDefault(_reactInfiniteScroller);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ModalInstance = function (_React$Component) {\n  _inherits(ModalInstance, _React$Component);\n\n  function ModalInstance(props) {\n    _classCallCheck(this, ModalInstance);\n\n    var _this = _possibleConstructorReturn(this, (ModalInstance.__proto__ || Object.getPrototypeOf(ModalInstance)).call(this, props));\n\n    _this.state = {\n      commentBody: '',\n      messages: [],\n      hitBottom: false,\n      c: 0,\n      // TODO conversation.filter((conv) => conv._id === this.props.postData._id).length > 0\n      isInConversation: false\n    };\n    _this.scrollToBottom = _this.scrollToBottom.bind(_this);\n    return _this;\n  }\n\n  _createClass(ModalInstance, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var membersRef = _firebase2.default.database().ref('/members/' + this.props.postData.postId);\n      membersRef.on('value', function (snapshot) {\n        var peeps = _underscore2.default.values(snapshot.val());\n        var members = peeps.filter(function (peep) {\n          return peep;\n        });\n        _this2.setState({ members: members.length });\n      });\n      var countRef = _firebase2.default.database().ref('/counts/' + this.props.postData.postId + '/count');\n      countRef.on('value', function (snapshot) {\n        _this2.setState({ count: snapshot.val() });\n      });\n    }\n  }, {\n    key: 'scrollToBottom',\n    value: function scrollToBottom(id) {\n      // $('.scrolling').scrollTop(50000);\n      var elem = document.getElementById(id);\n      if (elem) {\n        elem.scrollIntoView();\n        this.setState({ hitBottom: true, c: this.state.c + 1 });\n      } else {\n        // $('.scrolling').scrollTop(100000);\n        this.setState({ hitBottom: true, c: this.state.c + 1 });\n      }\n      // } else {\n      //   const bottom = document.getElementById('bottom');\n      //   console.log('bottom', bottom);\n      //   bottom.scrollIntoView();\n      // }\n    }\n  }, {\n    key: 'loadMore',\n    value: function loadMore(data) {\n      var _this3 = this;\n\n      // const elmnt = document.getElementById(this.state.firstId);\n      // console.log('first ID', this.state.firstId, elmnt);\n      var oldId = this.state.firstId;\n      if (this.state.hitBottom) {\n        if (data.postId) {\n          var messagesRef = _firebase2.default.database().ref('/messages/' + data.postId).orderByKey().endAt(this.state.firstKey).limitToLast(15);\n          messagesRef.once('value', function (snapshot) {\n            var newOnes = _underscore2.default.values(snapshot.val());\n            newOnes.pop();\n            var concat = newOnes.concat(_this3.state.messages);\n            var more = newOnes.length > 0;\n            var newId = newOnes.length > 0 ? newOnes[0].authorId + '' + newOnes[0].content : '';\n            _this3.setState({ messages: concat, firstKey: Object.keys(snapshot.val())[0], firstId: newId, hitBottom: false, hasMore: more });\n            // const scrollAmount = newOnes.length * 90 + 90;\n            if (newId) {\n              _this3.scrollToBottom(oldId);\n            }\n          });\n        } else {\n          console.log('missing postData load more');\n        }\n      } else {\n        console.log('oops havent hit bottom yet :/');\n      }\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(e) {\n      this.setState({ commentBody: e.target.value });\n    }\n  }, {\n    key: 'findEnter',\n    value: function findEnter() {\n      var _this4 = this;\n\n      (0, _jquery2.default)('#messageInput').keypress(function (event) {\n        if (event.which === 13) {\n          _this4.handleClick(_this4.props.postData.postId);\n          return false; // prevent duplicate submission\n        }\n        return null;\n      });\n    }\n  }, {\n    key: 'handleClick',\n    value: function handleClick(id) {\n      if (this.state.commentBody.length > 0) {\n        var user = _firebase2.default.auth().currentUser;\n        var commentBody = this.state.commentBody;\n        var split = commentBody.split(' ');\n        split.forEach(function (word, idx) {\n          if (word.length > 31) {\n            var firstHalf = word.slice(0, 32);\n            var secondHalf = word.slice(32);\n            split[idx] = firstHalf + '\\n' + secondHalf;\n          }\n        });\n        var useBody = split.join(' ');\n        var message = {\n          author: user.displayName,\n          authorId: user.uid,\n          content: useBody,\n          createdAt: new Date(),\n          authorPhoto: this.props.currentUser.pictureURL\n        };\n        this.setState({ commentBody: '' });\n        var updates = {};\n        var newMessageKey = _firebase2.default.database().ref().child('messages').push().key;\n        updates['/messages/' + id + '/' + newMessageKey] = message;\n        _firebase2.default.database().ref().update(updates);\n        var messagesCountRef = _firebase2.default.database().ref('/counts/' + this.props.postData.postId + '/count');\n        messagesCountRef.transaction(function (currentValue) {\n          return (currentValue || 0) + 1;\n        });\n      }\n      var elem = document.getElementById('messageInput');\n      elem.value = '';\n    }\n  }, {\n    key: 'startListen',\n    value: function startListen(data) {\n      var _this5 = this;\n\n      var updates = {};\n      var user = _firebase2.default.auth().currentUser;\n      updates['/members/' + this.props.postData.postId + '/' + user.uid] = true;\n      _firebase2.default.database().ref().update(updates);\n\n      if (data.postId) {\n        var messagesRef = _firebase2.default.database().ref('/messages/' + data.postId).orderByKey().limitToLast(20);\n        messagesRef.on('value', function (snapshot) {\n          if (snapshot.val()) {\n            var send = _underscore2.default.values(snapshot.val());\n            var ID = send[0].authorId + '' + send[0].content;\n            var bottomID = send[send.length - 1].authorId + '' + send[send.length - 1].content;\n            _this5.setState({ messages: send, firstKey: Object.keys(snapshot.val())[0], firstId: ID, hasMore: true, hitBottom: true });\n            if (_this5.state.c === 0 || send[send.length - 1].authorId === user.uid) {\n              _this5.scrollToBottom(bottomID);\n            }\n          } else {\n            console.log('no snapshot val :(');\n          }\n        });\n      } else {\n        console.log('missing postData');\n      }\n    }\n  }, {\n    key: 'handleClose',\n    value: function handleClose() {\n      var updates = {};\n      var user = _firebase2.default.auth().currentUser;\n      updates['/members/' + this.props.postData.postId + '/' + user.uid] = false;\n      _firebase2.default.database().ref().update(updates);\n      this.setState({ hitBottom: false, messages: [], firstKey: null, firstId: null, commentBody: '', c: 0 });\n    }\n  }, {\n    key: 'joinConversation',\n    value: function joinConversation() {\n      var user = _firebase2.default.auth().currentUser;\n      var updates = {};\n      updates['/follows/' + user.uid + '/' + this.props.currentUser.currentCommunity._id + '/' + this.props.postData.postId] = true;\n      _firebase2.default.database().ref().update(updates);\n    }\n  }, {\n    key: 'leaveConversation',\n    value: function leaveConversation() {\n      var user = _firebase2.default.auth().currentUser;\n      var updates = {};\n      updates['/follows/' + user.uid + '/' + this.props.currentUser.currentCommunity._id + '/' + this.props.postData.postId] = false;\n      _firebase2.default.database().ref().update(updates);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this6 = this;\n\n      return _react2.default.createElement(\n        _semanticUiReact.Modal,\n        { onOpen: function onOpen() {\n            _this6.startListen(_this6.props.postData);\n          },\n          onClose: function onClose() {\n            _this6.handleClose();\n          },\n          size: 'small',\n          basic: true,\n          trigger: _react2.default.createElement(\n            'div',\n            { className: 'commentDiv' },\n            _react2.default.createElement(\n              'span',\n              { className: 'userNum' },\n              '+',\n              this.state.members > 0 ? this.state.members : ''\n            ),\n            _react2.default.createElement(_semanticUiReact.Icon, { size: 'big', name: 'users', className: 'users' }),\n            _react2.default.createElement(\n              'span',\n              { className: 'commentNum' },\n              '+',\n              this.state.count\n            ),\n            _react2.default.createElement(_semanticUiReact.Icon, { size: 'big', name: 'comments', className: 'commentIcon' })\n          ),\n          closeIcon: 'close'\n        },\n        _react2.default.createElement(\n          _semanticUiReact.Modal.Header,\n          { className: 'modalHeader' },\n          _react2.default.createElement(_Nested_Post_Modal2.default, { postData: this.props.postData,\n            currentUser: this.props.currentUser }),\n          _react2.default.createElement(\n            'div',\n            { className: 'inModalUsers' },\n            _react2.default.createElement(\n              'span',\n              { className: 'userNum' },\n              '+',\n              this.state.members > 0 ? this.state.members : ''\n            ),\n            _react2.default.createElement(_semanticUiReact.Icon, { size: 'big', name: 'users', className: 'users', color: 'grey' })\n          ),\n          this.props.myConvoIds.indexOf(this.props.postData.postId) > -1 ? _react2.default.createElement(\n            'div',\n            { className: 'joinConversation' },\n            _react2.default.createElement(\n              _semanticUiReact.Button,\n              {\n                onClick: function onClick() {\n                  return _this6.leaveConversation();\n                },\n                circular: true,\n                id: 'joinButton',\n                animated: 'vertical' },\n              _react2.default.createElement(\n                _semanticUiReact.Button.Content,\n                null,\n                'unFollow'\n              )\n            )\n          ) : _react2.default.createElement(\n            'div',\n            { className: 'joinConversation' },\n            _react2.default.createElement(\n              _semanticUiReact.Button,\n              {\n                onClick: function onClick() {\n                  return _this6.joinConversation();\n                },\n                circular: true,\n                id: 'joinButton',\n                animated: 'vertical' },\n              _react2.default.createElement(\n                _semanticUiReact.Button.Content,\n                { hidden: true },\n                'Follow'\n              ),\n              _react2.default.createElement(\n                _semanticUiReact.Button.Content,\n                { visible: true },\n                _react2.default.createElement(_semanticUiReact.Icon, { name: 'plus' })\n              )\n            )\n          )\n        ),\n        _react2.default.createElement(\n          _semanticUiReact.Modal.Content,\n          { scrolling: true, className: 'scrollContentClass' },\n          _react2.default.createElement(\n            _reactInfiniteScroller2.default,\n            {\n              pageStart: 0,\n              loadMore: function loadMore() {\n                _this6.loadMore(_this6.props.postData);\n              },\n              hasMore: this.state.hasMore,\n              isReverse: true,\n              threshold: 25,\n              loader: _react2.default.createElement(_semanticUiReact.Loader, { active: true, inline: 'centered' }),\n              useWindow: false\n            },\n            this.state.messages.map(function (message) {\n              return _react2.default.createElement(_Post_Comment2.default, {\n                id: message.authorId + '' + message.content,\n                key: (0, _v2.default)(),\n                name: message.author,\n                createdAt: message.createdAt,\n                content: message.content,\n                authorPhoto: message.authorPhoto,\n                currentUser: _this6.props.currentUser,\n                authorId: message.authorId\n              });\n            }),\n            _react2.default.createElement('div', { id: 'bottom' })\n          )\n        ),\n        _react2.default.createElement(\n          _semanticUiReact.Modal.Actions,\n          null,\n          _react2.default.createElement(\n            _semanticUiReact.Form,\n            null,\n            _react2.default.createElement(_semanticUiReact.TextArea, {\n              id: 'messageInput',\n              autoHeight: true,\n              placeholder: 'Give your two cents...',\n              onChange: function onChange(e) {\n                _this6.handleChange(e);_this6.findEnter();\n              },\n              rows: 3\n            })\n          )\n        )\n      );\n    }\n  }]);\n\n  return ModalInstance;\n}(_react2.default.Component);\n\nModalInstance.propTypes = {\n  postData: _propTypes2.default.object,\n  newComment: _propTypes2.default.func,\n  onClick: _propTypes2.default.func,\n  newLike: _propTypes2.default.func,\n  newCommentLike: _propTypes2.default.func,\n  currentUser: _propTypes2.default.object,\n  startListen: _propTypes2.default.func,\n  joinConversation: _propTypes2.default.func,\n  myConvoIds: _propTypes2.default.array\n};\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    myConvoIds: state.conversationReducer.iDs\n  };\n};\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    newLike: function newLike(id) {\n      return (0, _newLikeThunk2.default)(id)(dispatch);\n    },\n    joinConversation: function joinConversation(postId) {\n      return dispatch((0, _joinConversationThunk2.default)(postId));\n    },\n    newComment: function newComment(commentBody, postId) {\n      return (0, _newCommentThunk2.default)(commentBody, postId)(dispatch);\n    },\n    newCommentLike: function newCommentLike(postId, commentId) {\n      return (0, _newCommentLikeThunk2.default)(postId, commentId)(dispatch);\n    }\n  };\n};\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(ModalInstance);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjk3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY2xpZW50L21vZHVsZXMvUG9zdC9Qb3N0X01vZGFsX0NvbnRhaW5lci5qcz9mMmYyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0UmVkdXggPSByZXF1aXJlKCdyZWFjdC1yZWR1eCcpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9uZXdMaWtlVGh1bmsgPSByZXF1aXJlKCcuLi8uLi90aHVua3MvcG9zdF90aHVua3MvbmV3TGlrZVRodW5rJyk7XG5cbnZhciBfbmV3TGlrZVRodW5rMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX25ld0xpa2VUaHVuayk7XG5cbnZhciBfbmV3Q29tbWVudFRodW5rID0gcmVxdWlyZSgnLi4vLi4vdGh1bmtzL3Bvc3RfdGh1bmtzL25ld0NvbW1lbnRUaHVuaycpO1xuXG52YXIgX25ld0NvbW1lbnRUaHVuazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9uZXdDb21tZW50VGh1bmspO1xuXG52YXIgX25ld0NvbW1lbnRMaWtlVGh1bmsgPSByZXF1aXJlKCcuLi8uLi90aHVua3MvcG9zdF90aHVua3MvbmV3Q29tbWVudExpa2VUaHVuaycpO1xuXG52YXIgX25ld0NvbW1lbnRMaWtlVGh1bmsyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbmV3Q29tbWVudExpa2VUaHVuayk7XG5cbnZhciBfam9pbkNvbnZlcnNhdGlvblRodW5rID0gcmVxdWlyZSgnLi4vLi4vdGh1bmtzL3Bvc3RfdGh1bmtzL2pvaW5Db252ZXJzYXRpb25UaHVuaycpO1xuXG52YXIgX2pvaW5Db252ZXJzYXRpb25UaHVuazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qb2luQ29udmVyc2F0aW9uVGh1bmspO1xuXG52YXIgX1Bvc3RfQ29tbWVudCA9IHJlcXVpcmUoJy4vUG9zdF9Db21tZW50Jyk7XG5cbnZhciBfUG9zdF9Db21tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Bvc3RfQ29tbWVudCk7XG5cbnJlcXVpcmUoJy4vUG9zdC5jc3MnKTtcblxudmFyIF9zZW1hbnRpY1VpUmVhY3QgPSByZXF1aXJlKCdzZW1hbnRpYy11aS1yZWFjdCcpO1xuXG52YXIgX2ZpcmViYXNlID0gcmVxdWlyZSgnLi4vLi4vZmlyZWJhc2UnKTtcblxudmFyIF9maXJlYmFzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9maXJlYmFzZSk7XG5cbnZhciBfdiA9IHJlcXVpcmUoJ3V1aWQvdjQnKTtcblxudmFyIF92MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3YpO1xuXG52YXIgX3VuZGVyc2NvcmUgPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG5cbnZhciBfdW5kZXJzY29yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91bmRlcnNjb3JlKTtcblxudmFyIF9qcXVlcnkgPSByZXF1aXJlKCdqcXVlcnknKTtcblxudmFyIF9qcXVlcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfanF1ZXJ5KTtcblxudmFyIF9OZXN0ZWRfUG9zdF9Nb2RhbCA9IHJlcXVpcmUoJy4vTmVzdGVkX1Bvc3RfTW9kYWwnKTtcblxudmFyIF9OZXN0ZWRfUG9zdF9Nb2RhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9OZXN0ZWRfUG9zdF9Nb2RhbCk7XG5cbnZhciBfcmVhY3RJbmZpbml0ZVNjcm9sbGVyID0gcmVxdWlyZSgncmVhY3QtaW5maW5pdGUtc2Nyb2xsZXInKTtcblxudmFyIF9yZWFjdEluZmluaXRlU2Nyb2xsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RJbmZpbml0ZVNjcm9sbGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgTW9kYWxJbnN0YW5jZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhNb2RhbEluc3RhbmNlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBNb2RhbEluc3RhbmNlKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vZGFsSW5zdGFuY2UpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE1vZGFsSW5zdGFuY2UuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihNb2RhbEluc3RhbmNlKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBjb21tZW50Qm9keTogJycsXG4gICAgICBtZXNzYWdlczogW10sXG4gICAgICBoaXRCb3R0b206IGZhbHNlLFxuICAgICAgYzogMCxcbiAgICAgIC8vIFRPRE8gY29udmVyc2F0aW9uLmZpbHRlcigoY29udikgPT4gY29udi5faWQgPT09IHRoaXMucHJvcHMucG9zdERhdGEuX2lkKS5sZW5ndGggPiAwXG4gICAgICBpc0luQ29udmVyc2F0aW9uOiBmYWxzZVxuICAgIH07XG4gICAgX3RoaXMuc2Nyb2xsVG9Cb3R0b20gPSBfdGhpcy5zY3JvbGxUb0JvdHRvbS5iaW5kKF90aGlzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTW9kYWxJbnN0YW5jZSwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBtZW1iZXJzUmVmID0gX2ZpcmViYXNlMi5kZWZhdWx0LmRhdGFiYXNlKCkucmVmKCcvbWVtYmVycy8nICsgdGhpcy5wcm9wcy5wb3N0RGF0YS5wb3N0SWQpO1xuICAgICAgbWVtYmVyc1JlZi5vbigndmFsdWUnLCBmdW5jdGlvbiAoc25hcHNob3QpIHtcbiAgICAgICAgdmFyIHBlZXBzID0gX3VuZGVyc2NvcmUyLmRlZmF1bHQudmFsdWVzKHNuYXBzaG90LnZhbCgpKTtcbiAgICAgICAgdmFyIG1lbWJlcnMgPSBwZWVwcy5maWx0ZXIoZnVuY3Rpb24gKHBlZXApIHtcbiAgICAgICAgICByZXR1cm4gcGVlcDtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IG1lbWJlcnM6IG1lbWJlcnMubGVuZ3RoIH0pO1xuICAgICAgfSk7XG4gICAgICB2YXIgY291bnRSZWYgPSBfZmlyZWJhc2UyLmRlZmF1bHQuZGF0YWJhc2UoKS5yZWYoJy9jb3VudHMvJyArIHRoaXMucHJvcHMucG9zdERhdGEucG9zdElkICsgJy9jb3VudCcpO1xuICAgICAgY291bnRSZWYub24oJ3ZhbHVlJywgZnVuY3Rpb24gKHNuYXBzaG90KSB7XG4gICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IGNvdW50OiBzbmFwc2hvdC52YWwoKSB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Njcm9sbFRvQm90dG9tJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsVG9Cb3R0b20oaWQpIHtcbiAgICAgIC8vICQoJy5zY3JvbGxpbmcnKS5zY3JvbGxUb3AoNTAwMDApO1xuICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICBpZiAoZWxlbSkge1xuICAgICAgICBlbGVtLnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBoaXRCb3R0b206IHRydWUsIGM6IHRoaXMuc3RhdGUuYyArIDEgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAkKCcuc2Nyb2xsaW5nJykuc2Nyb2xsVG9wKDEwMDAwMCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBoaXRCb3R0b206IHRydWUsIGM6IHRoaXMuc3RhdGUuYyArIDEgfSk7XG4gICAgICB9XG4gICAgICAvLyB9IGVsc2Uge1xuICAgICAgLy8gICBjb25zdCBib3R0b20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm90dG9tJyk7XG4gICAgICAvLyAgIGNvbnNvbGUubG9nKCdib3R0b20nLCBib3R0b20pO1xuICAgICAgLy8gICBib3R0b20uc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgIC8vIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdsb2FkTW9yZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRNb3JlKGRhdGEpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAvLyBjb25zdCBlbG1udCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc3RhdGUuZmlyc3RJZCk7XG4gICAgICAvLyBjb25zb2xlLmxvZygnZmlyc3QgSUQnLCB0aGlzLnN0YXRlLmZpcnN0SWQsIGVsbW50KTtcbiAgICAgIHZhciBvbGRJZCA9IHRoaXMuc3RhdGUuZmlyc3RJZDtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmhpdEJvdHRvbSkge1xuICAgICAgICBpZiAoZGF0YS5wb3N0SWQpIHtcbiAgICAgICAgICB2YXIgbWVzc2FnZXNSZWYgPSBfZmlyZWJhc2UyLmRlZmF1bHQuZGF0YWJhc2UoKS5yZWYoJy9tZXNzYWdlcy8nICsgZGF0YS5wb3N0SWQpLm9yZGVyQnlLZXkoKS5lbmRBdCh0aGlzLnN0YXRlLmZpcnN0S2V5KS5saW1pdFRvTGFzdCgxNSk7XG4gICAgICAgICAgbWVzc2FnZXNSZWYub25jZSgndmFsdWUnLCBmdW5jdGlvbiAoc25hcHNob3QpIHtcbiAgICAgICAgICAgIHZhciBuZXdPbmVzID0gX3VuZGVyc2NvcmUyLmRlZmF1bHQudmFsdWVzKHNuYXBzaG90LnZhbCgpKTtcbiAgICAgICAgICAgIG5ld09uZXMucG9wKCk7XG4gICAgICAgICAgICB2YXIgY29uY2F0ID0gbmV3T25lcy5jb25jYXQoX3RoaXMzLnN0YXRlLm1lc3NhZ2VzKTtcbiAgICAgICAgICAgIHZhciBtb3JlID0gbmV3T25lcy5sZW5ndGggPiAwO1xuICAgICAgICAgICAgdmFyIG5ld0lkID0gbmV3T25lcy5sZW5ndGggPiAwID8gbmV3T25lc1swXS5hdXRob3JJZCArICcnICsgbmV3T25lc1swXS5jb250ZW50IDogJyc7XG4gICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBtZXNzYWdlczogY29uY2F0LCBmaXJzdEtleTogT2JqZWN0LmtleXMoc25hcHNob3QudmFsKCkpWzBdLCBmaXJzdElkOiBuZXdJZCwgaGl0Qm90dG9tOiBmYWxzZSwgaGFzTW9yZTogbW9yZSB9KTtcbiAgICAgICAgICAgIC8vIGNvbnN0IHNjcm9sbEFtb3VudCA9IG5ld09uZXMubGVuZ3RoICogOTAgKyA5MDtcbiAgICAgICAgICAgIGlmIChuZXdJZCkge1xuICAgICAgICAgICAgICBfdGhpczMuc2Nyb2xsVG9Cb3R0b20ob2xkSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdtaXNzaW5nIHBvc3REYXRhIGxvYWQgbW9yZScpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnb29wcyBoYXZlbnQgaGl0IGJvdHRvbSB5ZXQgOi8nKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYW5kbGVDaGFuZ2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbW1lbnRCb2R5OiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdmaW5kRW50ZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5kRW50ZXIoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgKDAsIF9qcXVlcnkyLmRlZmF1bHQpKCcjbWVzc2FnZUlucHV0Jykua2V5cHJlc3MoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC53aGljaCA9PT0gMTMpIHtcbiAgICAgICAgICBfdGhpczQuaGFuZGxlQ2xpY2soX3RoaXM0LnByb3BzLnBvc3REYXRhLnBvc3RJZCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBwcmV2ZW50IGR1cGxpY2F0ZSBzdWJtaXNzaW9uXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYW5kbGVDbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGlkKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5jb21tZW50Qm9keS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciB1c2VyID0gX2ZpcmViYXNlMi5kZWZhdWx0LmF1dGgoKS5jdXJyZW50VXNlcjtcbiAgICAgICAgdmFyIGNvbW1lbnRCb2R5ID0gdGhpcy5zdGF0ZS5jb21tZW50Qm9keTtcbiAgICAgICAgdmFyIHNwbGl0ID0gY29tbWVudEJvZHkuc3BsaXQoJyAnKTtcbiAgICAgICAgc3BsaXQuZm9yRWFjaChmdW5jdGlvbiAod29yZCwgaWR4KSB7XG4gICAgICAgICAgaWYgKHdvcmQubGVuZ3RoID4gMzEpIHtcbiAgICAgICAgICAgIHZhciBmaXJzdEhhbGYgPSB3b3JkLnNsaWNlKDAsIDMyKTtcbiAgICAgICAgICAgIHZhciBzZWNvbmRIYWxmID0gd29yZC5zbGljZSgzMik7XG4gICAgICAgICAgICBzcGxpdFtpZHhdID0gZmlyc3RIYWxmICsgJ1xcbicgKyBzZWNvbmRIYWxmO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciB1c2VCb2R5ID0gc3BsaXQuam9pbignICcpO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IHtcbiAgICAgICAgICBhdXRob3I6IHVzZXIuZGlzcGxheU5hbWUsXG4gICAgICAgICAgYXV0aG9ySWQ6IHVzZXIudWlkLFxuICAgICAgICAgIGNvbnRlbnQ6IHVzZUJvZHksXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIGF1dGhvclBob3RvOiB0aGlzLnByb3BzLmN1cnJlbnRVc2VyLnBpY3R1cmVVUkxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbW1lbnRCb2R5OiAnJyB9KTtcbiAgICAgICAgdmFyIHVwZGF0ZXMgPSB7fTtcbiAgICAgICAgdmFyIG5ld01lc3NhZ2VLZXkgPSBfZmlyZWJhc2UyLmRlZmF1bHQuZGF0YWJhc2UoKS5yZWYoKS5jaGlsZCgnbWVzc2FnZXMnKS5wdXNoKCkua2V5O1xuICAgICAgICB1cGRhdGVzWycvbWVzc2FnZXMvJyArIGlkICsgJy8nICsgbmV3TWVzc2FnZUtleV0gPSBtZXNzYWdlO1xuICAgICAgICBfZmlyZWJhc2UyLmRlZmF1bHQuZGF0YWJhc2UoKS5yZWYoKS51cGRhdGUodXBkYXRlcyk7XG4gICAgICAgIHZhciBtZXNzYWdlc0NvdW50UmVmID0gX2ZpcmViYXNlMi5kZWZhdWx0LmRhdGFiYXNlKCkucmVmKCcvY291bnRzLycgKyB0aGlzLnByb3BzLnBvc3REYXRhLnBvc3RJZCArICcvY291bnQnKTtcbiAgICAgICAgbWVzc2FnZXNDb3VudFJlZi50cmFuc2FjdGlvbihmdW5jdGlvbiAoY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIChjdXJyZW50VmFsdWUgfHwgMCkgKyAxO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHZhciBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2VJbnB1dCcpO1xuICAgICAgZWxlbS52YWx1ZSA9ICcnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3N0YXJ0TGlzdGVuJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnRMaXN0ZW4oZGF0YSkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHZhciB1cGRhdGVzID0ge307XG4gICAgICB2YXIgdXNlciA9IF9maXJlYmFzZTIuZGVmYXVsdC5hdXRoKCkuY3VycmVudFVzZXI7XG4gICAgICB1cGRhdGVzWycvbWVtYmVycy8nICsgdGhpcy5wcm9wcy5wb3N0RGF0YS5wb3N0SWQgKyAnLycgKyB1c2VyLnVpZF0gPSB0cnVlO1xuICAgICAgX2ZpcmViYXNlMi5kZWZhdWx0LmRhdGFiYXNlKCkucmVmKCkudXBkYXRlKHVwZGF0ZXMpO1xuXG4gICAgICBpZiAoZGF0YS5wb3N0SWQpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VzUmVmID0gX2ZpcmViYXNlMi5kZWZhdWx0LmRhdGFiYXNlKCkucmVmKCcvbWVzc2FnZXMvJyArIGRhdGEucG9zdElkKS5vcmRlckJ5S2V5KCkubGltaXRUb0xhc3QoMjApO1xuICAgICAgICBtZXNzYWdlc1JlZi5vbigndmFsdWUnLCBmdW5jdGlvbiAoc25hcHNob3QpIHtcbiAgICAgICAgICBpZiAoc25hcHNob3QudmFsKCkpIHtcbiAgICAgICAgICAgIHZhciBzZW5kID0gX3VuZGVyc2NvcmUyLmRlZmF1bHQudmFsdWVzKHNuYXBzaG90LnZhbCgpKTtcbiAgICAgICAgICAgIHZhciBJRCA9IHNlbmRbMF0uYXV0aG9ySWQgKyAnJyArIHNlbmRbMF0uY29udGVudDtcbiAgICAgICAgICAgIHZhciBib3R0b21JRCA9IHNlbmRbc2VuZC5sZW5ndGggLSAxXS5hdXRob3JJZCArICcnICsgc2VuZFtzZW5kLmxlbmd0aCAtIDFdLmNvbnRlbnQ7XG4gICAgICAgICAgICBfdGhpczUuc2V0U3RhdGUoeyBtZXNzYWdlczogc2VuZCwgZmlyc3RLZXk6IE9iamVjdC5rZXlzKHNuYXBzaG90LnZhbCgpKVswXSwgZmlyc3RJZDogSUQsIGhhc01vcmU6IHRydWUsIGhpdEJvdHRvbTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIGlmIChfdGhpczUuc3RhdGUuYyA9PT0gMCB8fCBzZW5kW3NlbmQubGVuZ3RoIC0gMV0uYXV0aG9ySWQgPT09IHVzZXIudWlkKSB7XG4gICAgICAgICAgICAgIF90aGlzNS5zY3JvbGxUb0JvdHRvbShib3R0b21JRCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdubyBzbmFwc2hvdCB2YWwgOignKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ21pc3NpbmcgcG9zdERhdGEnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYW5kbGVDbG9zZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKCkge1xuICAgICAgdmFyIHVwZGF0ZXMgPSB7fTtcbiAgICAgIHZhciB1c2VyID0gX2ZpcmViYXNlMi5kZWZhdWx0LmF1dGgoKS5jdXJyZW50VXNlcjtcbiAgICAgIHVwZGF0ZXNbJy9tZW1iZXJzLycgKyB0aGlzLnByb3BzLnBvc3REYXRhLnBvc3RJZCArICcvJyArIHVzZXIudWlkXSA9IGZhbHNlO1xuICAgICAgX2ZpcmViYXNlMi5kZWZhdWx0LmRhdGFiYXNlKCkucmVmKCkudXBkYXRlKHVwZGF0ZXMpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGhpdEJvdHRvbTogZmFsc2UsIG1lc3NhZ2VzOiBbXSwgZmlyc3RLZXk6IG51bGwsIGZpcnN0SWQ6IG51bGwsIGNvbW1lbnRCb2R5OiAnJywgYzogMCB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdqb2luQ29udmVyc2F0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gam9pbkNvbnZlcnNhdGlvbigpIHtcbiAgICAgIHZhciB1c2VyID0gX2ZpcmViYXNlMi5kZWZhdWx0LmF1dGgoKS5jdXJyZW50VXNlcjtcbiAgICAgIHZhciB1cGRhdGVzID0ge307XG4gICAgICB1cGRhdGVzWycvZm9sbG93cy8nICsgdXNlci51aWQgKyAnLycgKyB0aGlzLnByb3BzLmN1cnJlbnRVc2VyLmN1cnJlbnRDb21tdW5pdHkuX2lkICsgJy8nICsgdGhpcy5wcm9wcy5wb3N0RGF0YS5wb3N0SWRdID0gdHJ1ZTtcbiAgICAgIF9maXJlYmFzZTIuZGVmYXVsdC5kYXRhYmFzZSgpLnJlZigpLnVwZGF0ZSh1cGRhdGVzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdsZWF2ZUNvbnZlcnNhdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxlYXZlQ29udmVyc2F0aW9uKCkge1xuICAgICAgdmFyIHVzZXIgPSBfZmlyZWJhc2UyLmRlZmF1bHQuYXV0aCgpLmN1cnJlbnRVc2VyO1xuICAgICAgdmFyIHVwZGF0ZXMgPSB7fTtcbiAgICAgIHVwZGF0ZXNbJy9mb2xsb3dzLycgKyB1c2VyLnVpZCArICcvJyArIHRoaXMucHJvcHMuY3VycmVudFVzZXIuY3VycmVudENvbW11bml0eS5faWQgKyAnLycgKyB0aGlzLnByb3BzLnBvc3REYXRhLnBvc3RJZF0gPSBmYWxzZTtcbiAgICAgIF9maXJlYmFzZTIuZGVmYXVsdC5kYXRhYmFzZSgpLnJlZigpLnVwZGF0ZSh1cGRhdGVzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfc2VtYW50aWNVaVJlYWN0Lk1vZGFsLFxuICAgICAgICB7IG9uT3BlbjogZnVuY3Rpb24gb25PcGVuKCkge1xuICAgICAgICAgICAgX3RoaXM2LnN0YXJ0TGlzdGVuKF90aGlzNi5wcm9wcy5wb3N0RGF0YSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkge1xuICAgICAgICAgICAgX3RoaXM2LmhhbmRsZUNsb3NlKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzaXplOiAnc21hbGwnLFxuICAgICAgICAgIGJhc2ljOiB0cnVlLFxuICAgICAgICAgIHRyaWdnZXI6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbW1lbnREaXYnIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3VzZXJOdW0nIH0sXG4gICAgICAgICAgICAgICcrJyxcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5tZW1iZXJzID4gMCA/IHRoaXMuc3RhdGUubWVtYmVycyA6ICcnXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3NlbWFudGljVWlSZWFjdC5JY29uLCB7IHNpemU6ICdiaWcnLCBuYW1lOiAndXNlcnMnLCBjbGFzc05hbWU6ICd1c2VycycgfSksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbW1lbnROdW0nIH0sXG4gICAgICAgICAgICAgICcrJyxcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9zZW1hbnRpY1VpUmVhY3QuSWNvbiwgeyBzaXplOiAnYmlnJywgbmFtZTogJ2NvbW1lbnRzJywgY2xhc3NOYW1lOiAnY29tbWVudEljb24nIH0pXG4gICAgICAgICAgKSxcbiAgICAgICAgICBjbG9zZUljb246ICdjbG9zZSdcbiAgICAgICAgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX3NlbWFudGljVWlSZWFjdC5Nb2RhbC5IZWFkZXIsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdtb2RhbEhlYWRlcicgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTmVzdGVkX1Bvc3RfTW9kYWwyLmRlZmF1bHQsIHsgcG9zdERhdGE6IHRoaXMucHJvcHMucG9zdERhdGEsXG4gICAgICAgICAgICBjdXJyZW50VXNlcjogdGhpcy5wcm9wcy5jdXJyZW50VXNlciB9KSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdpbk1vZGFsVXNlcnMnIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3VzZXJOdW0nIH0sXG4gICAgICAgICAgICAgICcrJyxcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5tZW1iZXJzID4gMCA/IHRoaXMuc3RhdGUubWVtYmVycyA6ICcnXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3NlbWFudGljVWlSZWFjdC5JY29uLCB7IHNpemU6ICdiaWcnLCBuYW1lOiAndXNlcnMnLCBjbGFzc05hbWU6ICd1c2VycycsIGNvbG9yOiAnZ3JleScgfSlcbiAgICAgICAgICApLFxuICAgICAgICAgIHRoaXMucHJvcHMubXlDb252b0lkcy5pbmRleE9mKHRoaXMucHJvcHMucG9zdERhdGEucG9zdElkKSA+IC0xID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnam9pbkNvbnZlcnNhdGlvbicgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfc2VtYW50aWNVaVJlYWN0LkJ1dHRvbixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmxlYXZlQ29udmVyc2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjaXJjdWxhcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpZDogJ2pvaW5CdXR0b24nLFxuICAgICAgICAgICAgICAgIGFuaW1hdGVkOiAndmVydGljYWwnIH0sXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9zZW1hbnRpY1VpUmVhY3QuQnV0dG9uLkNvbnRlbnQsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAndW5Gb2xsb3cnXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApIDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnam9pbkNvbnZlcnNhdGlvbicgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfc2VtYW50aWNVaVJlYWN0LkJ1dHRvbixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmpvaW5Db252ZXJzYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNpcmN1bGFyOiB0cnVlLFxuICAgICAgICAgICAgICAgIGlkOiAnam9pbkJ1dHRvbicsXG4gICAgICAgICAgICAgICAgYW5pbWF0ZWQ6ICd2ZXJ0aWNhbCcgfSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX3NlbWFudGljVWlSZWFjdC5CdXR0b24uQ29udGVudCxcbiAgICAgICAgICAgICAgICB7IGhpZGRlbjogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICdGb2xsb3cnXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9zZW1hbnRpY1VpUmVhY3QuQnV0dG9uLkNvbnRlbnQsXG4gICAgICAgICAgICAgICAgeyB2aXNpYmxlOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3NlbWFudGljVWlSZWFjdC5JY29uLCB7IG5hbWU6ICdwbHVzJyB9KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfc2VtYW50aWNVaVJlYWN0Lk1vZGFsLkNvbnRlbnQsXG4gICAgICAgICAgeyBzY3JvbGxpbmc6IHRydWUsIGNsYXNzTmFtZTogJ3Njcm9sbENvbnRlbnRDbGFzcycgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9yZWFjdEluZmluaXRlU2Nyb2xsZXIyLmRlZmF1bHQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHBhZ2VTdGFydDogMCxcbiAgICAgICAgICAgICAgbG9hZE1vcmU6IGZ1bmN0aW9uIGxvYWRNb3JlKCkge1xuICAgICAgICAgICAgICAgIF90aGlzNi5sb2FkTW9yZShfdGhpczYucHJvcHMucG9zdERhdGEpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBoYXNNb3JlOiB0aGlzLnN0YXRlLmhhc01vcmUsXG4gICAgICAgICAgICAgIGlzUmV2ZXJzZTogdHJ1ZSxcbiAgICAgICAgICAgICAgdGhyZXNob2xkOiAyNSxcbiAgICAgICAgICAgICAgbG9hZGVyOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfc2VtYW50aWNVaVJlYWN0LkxvYWRlciwgeyBhY3RpdmU6IHRydWUsIGlubGluZTogJ2NlbnRlcmVkJyB9KSxcbiAgICAgICAgICAgICAgdXNlV2luZG93OiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubWVzc2FnZXMubWFwKGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfUG9zdF9Db21tZW50Mi5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuYXV0aG9ySWQgKyAnJyArIG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICAgICAgICBrZXk6ICgwLCBfdjIuZGVmYXVsdCkoKSxcbiAgICAgICAgICAgICAgICBuYW1lOiBtZXNzYWdlLmF1dGhvcixcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG1lc3NhZ2UuY3JlYXRlZEF0LFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICAgICAgICBhdXRob3JQaG90bzogbWVzc2FnZS5hdXRob3JQaG90byxcbiAgICAgICAgICAgICAgICBjdXJyZW50VXNlcjogX3RoaXM2LnByb3BzLmN1cnJlbnRVc2VyLFxuICAgICAgICAgICAgICAgIGF1dGhvcklkOiBtZXNzYWdlLmF1dGhvcklkXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBpZDogJ2JvdHRvbScgfSlcbiAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9zZW1hbnRpY1VpUmVhY3QuTW9kYWwuQWN0aW9ucyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3NlbWFudGljVWlSZWFjdC5Gb3JtLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9zZW1hbnRpY1VpUmVhY3QuVGV4dEFyZWEsIHtcbiAgICAgICAgICAgICAgaWQ6ICdtZXNzYWdlSW5wdXQnLFxuICAgICAgICAgICAgICBhdXRvSGVpZ2h0OiB0cnVlLFxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ0dpdmUgeW91ciB0d28gY2VudHMuLi4nLFxuICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgICAgICAgIF90aGlzNi5oYW5kbGVDaGFuZ2UoZSk7X3RoaXM2LmZpbmRFbnRlcigpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICByb3dzOiAzXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTW9kYWxJbnN0YW5jZTtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbk1vZGFsSW5zdGFuY2UucHJvcFR5cGVzID0ge1xuICBwb3N0RGF0YTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIG5ld0NvbW1lbnQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgb25DbGljazogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBuZXdMaWtlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIG5ld0NvbW1lbnRMaWtlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIGN1cnJlbnRVc2VyOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgc3RhcnRMaXN0ZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgam9pbkNvbnZlcnNhdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICBteUNvbnZvSWRzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5XG59O1xudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIG15Q29udm9JZHM6IHN0YXRlLmNvbnZlcnNhdGlvblJlZHVjZXIuaURzXG4gIH07XG59O1xudmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIG5ld0xpa2U6IGZ1bmN0aW9uIG5ld0xpa2UoaWQpIHtcbiAgICAgIHJldHVybiAoMCwgX25ld0xpa2VUaHVuazIuZGVmYXVsdCkoaWQpKGRpc3BhdGNoKTtcbiAgICB9LFxuICAgIGpvaW5Db252ZXJzYXRpb246IGZ1bmN0aW9uIGpvaW5Db252ZXJzYXRpb24ocG9zdElkKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goKDAsIF9qb2luQ29udmVyc2F0aW9uVGh1bmsyLmRlZmF1bHQpKHBvc3RJZCkpO1xuICAgIH0sXG4gICAgbmV3Q29tbWVudDogZnVuY3Rpb24gbmV3Q29tbWVudChjb21tZW50Qm9keSwgcG9zdElkKSB7XG4gICAgICByZXR1cm4gKDAsIF9uZXdDb21tZW50VGh1bmsyLmRlZmF1bHQpKGNvbW1lbnRCb2R5LCBwb3N0SWQpKGRpc3BhdGNoKTtcbiAgICB9LFxuICAgIG5ld0NvbW1lbnRMaWtlOiBmdW5jdGlvbiBuZXdDb21tZW50TGlrZShwb3N0SWQsIGNvbW1lbnRJZCkge1xuICAgICAgcmV0dXJuICgwLCBfbmV3Q29tbWVudExpa2VUaHVuazIuZGVmYXVsdCkocG9zdElkLCBjb21tZW50SWQpKGRpc3BhdGNoKTtcbiAgICB9XG4gIH07XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShNb2RhbEluc3RhbmNlKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2NsaWVudC9tb2R1bGVzL1Bvc3QvUG9zdF9Nb2RhbF9Db250YWluZXIuanNcbi8vIG1vZHVsZSBpZCA9IDY5N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///697\n");

/***/ })

})